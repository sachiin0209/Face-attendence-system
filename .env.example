# ===========================================
# Face Authentication Attendance System
# Environment Variables Configuration
# ===========================================
# Copy this file to .env and fill in your values
# cp .env.example .env

# ----- Database Settings -----
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-supabase-anon-key

# Admin Database (use same as main or separate)
ADMIN_SUPABASE_URL=https://your-project.supabase.co
ADMIN_SUPABASE_KEY=your-supabase-anon-key

# ----- Flask Settings -----
# Generate secret key: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your-secret-key-here
FLASK_DEBUG=false
FLASK_ENV=production
HOST=0.0.0.0
PORT=5000

# ----- Face Detection Settings -----
# Detection model: 'yolo' (fast, recommended) or 'hog' (CPU) or 'cnn' (GPU, slow)
FACE_DETECTION_MODEL=yolo

# YOLO model size: 'n' (nano-fastest), 's' (small), 'm' (medium), 'l' (large)
YOLO_MODEL_SIZE=n

# YOLO confidence threshold (0.0-1.0)
YOLO_CONFIDENCE=0.5

# ----- Face Recognition Settings -----
# Tolerance for face matching (lower = stricter, 0.4-0.6 recommended)
FACE_RECOGNITION_TOLERANCE=0.5

# Number of times to re-sample face for encoding (1 = fast, 2+ = more accurate)
FACE_NUM_JITTERS=1

# ----- Admin Settings -----
ADMIN_SESSION_TIMEOUT=300
ADMIN_RECOGNITION_TOLERANCE=0.45
REQUIRE_ADMIN_AUTH=true
MAX_AUTH_ATTEMPTS=3

# ----- Anti-Spoofing Settings -----
# Enable/disable spoof detection
SPOOF_DETECTION_ENABLED=true

# Quick mode skips some checks for speed (true = faster, false = more secure)
SPOOF_QUICK_MODE=true

# Number of frames for motion detection (fewer = faster)
SPOOF_FRAME_COUNT=5

# Texture analysis thresholds
SPOOF_LAPLACIAN_THRESHOLD=50
SPOOF_TEXTURE_THRESHOLD=200

# Blink detection threshold
BLINK_THRESHOLD=0.25

# ----- Performance Settings -----
# Image resize for faster processing (0.5 = half size, 1.0 = full size)
IMAGE_SCALE_FACTOR=0.5

# Max image dimension for processing
MAX_IMAGE_DIMENSION=640

# Cache face encodings in memory
CACHE_ENCODINGS=true
